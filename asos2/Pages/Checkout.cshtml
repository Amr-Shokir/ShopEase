@page
@model IsisStore.Pages.CheckoutModel
@{
    ViewData["Title"] = "Checkout";
}

<div style="max-width: 1100px; margin: 40px auto; padding: 20px;">

    <div asp-validation-summary="All" style="color:red; margin-bottom:20px;"></div>

    <form method="post">

        <div style="display: flex; gap: 60px;">

            <div style="flex: 2;">
                <h2 style="font-weight: 400; font-size: 24px; margin-bottom: 30px;">Billing Details</h2>

                <div style="margin-bottom: 20px;">
                    <label style="display:block; font-size:12px; color:#666; margin-bottom:5px;">First Name *</label>
                    <input asp-for="Order.FirstName" style="width:100%; padding:10px; background:#f9f9f9; border:none;" required />
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display:block; font-size:12px; color:#666; margin-bottom:5px;">Last Name *</label>
                    <input asp-for="Order.LastName" style="width:100%; padding:10px; background:#f9f9f9; border:none;" required />
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display:block; font-size:12px; color:#666; margin-bottom:5px;">Email Address *</label>
                    <input asp-for="Order.Email" type="email" style="width:100%; padding:10px; background:#f9f9f9; border:none;" required />
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display:block; font-size:12px; color:#666; margin-bottom:5px;">Address *</label>
                    <input asp-for="Order.Address" style="width:100%; padding:10px; background:#f9f9f9; border:none;" required />
                </div>
            </div>

            <div style="flex: 1;">
                <div style="padding: 20px; border: 1px solid #fff;">
                    <h3 style="margin-top:0;">Your Order</h3>

                    <div style="margin-top: 20px; font-size: 14px;">
                        @if (Model.CartItems != null)
                        {
                            @foreach (var item in Model.CartItems)
                            {
                                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                                    <span>@item.Product.Name <span style="color:#999;">x @item.Quantity</span></span>
                                    <span>$@((item.Product.DiscountPrice ?? item.Product.Price) * item.Quantity)</span>
                                </div>
                            }
                        }
                    </div>

                    <div style="border-top: 1px solid #eee; margin: 20px 0; padding-top: 20px;">
                        <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:18px;">
                            <span>Total</span>
                            <span>$@Model.TotalPrice</span>
                        </div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label>
                            <input type="radio" checked /> Cash on delivery
                        </label>
                    </div>

                    <button type="submit" style="width:100%; background-color: #008000; color:white; padding:12px; border:none; border-radius:4px; font-weight:bold; cursor:pointer;">
                        Place Order
                    </button>
                </div>
            </div>

        </div>
    </form>
</div>